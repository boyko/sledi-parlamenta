## Какво прави
Скриптът извлича информаця за дейността на всеки народен представител от стенограмите налични в XLS формат на http://www.parliament.bg/bg/plenaryst .

За момента информацията е сведена до:

 - присъствие
 - избор за всяко гласуване

## Очакван резултат
Дейността на 1 народен представеител за всеки 1 работен ден е представена като `JSON` документ под формата:

```json
{
    "name": "Иван Иванов",
    "date": "21/05/2013",
    "votes": [
        {
            "topic": "Увеличение на бюджета",
            "val": "yes",
            "time": "21-05-2013 11:54"
        },
        {
            "topic": "Решение за избор на председател",
            "val": "yes",
            "time": "21-05-2013 09:21"
        }
    ],
    "registration": {
        "time": "21-05-2013 11:30",
        "val": "absent"
    }
}
```

## Употреба
```bash
node run.js 
```

което ще изведе поредица от `json` документи, но един документ на 1 ред, тоест:

```json
{"name":"Иван Иванов","date":"21/05/2013","votes":[{"topic":"Budget increase","val":"yes","time":"21-05-2013 11:54"}, /*...*/],"registration":{/*...*/}}
 ```

### Оформяне на изведената информация за запис
Записа на информацията зависи от желаната база данни. За всяка различна DB, документите ще се трансформират за да паснат на нейната структура.

Примерен _"декоратор"_ за SQL база данни има в `decorator/sql.js`. Дадения декоратор-скрипт се ползва като се пренасочи извежданата информация от `run.js` към него. Или иначе казано _"pipe"_:

```bash
node run.js | node decorator/sql.js
```

което ще превърне описания горе JSON документ в:

```json
{"destination":"mp_presence","data":{"registration":"absent","commenced_at":"21-05-2013 11:30"}}
{"destination":"mp_vote","data":{"vote":"yes","topic":"Увеличение на бюджета","time":"21-05-2013 11:54"}}
{"destination":"mp_vote","data":{"vote":"yes","topic":"Решение за избор на председател","time":"21-05-2013 09:21"}}
```

Което на свой ред са нови JSON документи, като всеки 1 документ съдържа:

 - 1 поредица от данни съответстващи на точно 1 ред в базата данни
 - име на таблицата, където ще бъде запазен реда